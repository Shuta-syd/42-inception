version: '3'
services:
 nginx:
  build:
   context: .
   dockerfile: requirements/nginx/Dockerfile
  container_name: nginx
  depends_on:
   - wordpress
  ports:
   - "443:443"
  volumes:
   - ./requirements/nginx/conf/:/etc/nginx/http.d/
   - ./requirements/nginx/tools:/etc/nginx/ssl/
   - /home/${USER}/simple_docker_nginx_html/public/html:/var/www/
  restart: always
 mariadb:
  build: ./requirements/mariadb
  ports:
   - "3306:3306"
  restart: always
  environment:
   MYSQL_ROOT_PASSWORD: root
   MYSQL_DATABASE: wordpress
   MYSQL_USER: root
   MYSQL_PASSWORD: wordpress
  volumes:
   - ./requirements/mariadb:/var/lib/mysql
   - ./logs/mariadb:/var/log/mysql
 wordpress:
  build: ./requirements/wordpress
  depends_on:
   - mariadb
  volumes:
   - ./src:var/www/html
   - ./logs/wordpress/php:/var/log/php

# wordpress:
#  build: 
#   context: .
#   dockerfile: requirements/wordpress/Dockerfile
#  container_name: wordpress
#  ports:
#   - "9000:9000"
#  volumes:
#   -
