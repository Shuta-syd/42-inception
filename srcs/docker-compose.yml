version: '3'
services:
 nginx:
  build:
   context: .
   dockerfile: requirements/nginx/Dockerfile
  container_name: nginx
  depends_on:
   - wordpress
  ports:
   - "443:443"
  volumes:
   - ./requirements/nginx/conf/:/etc/nginx/http.d/
   - ./requirements/nginx/tools:/etc/nginx/ssl/
   - /home/${USER}/simple_docker_nginx_html/public/html:/var/www/
  restart: always
 mariadb:
  build: 
   context: .
   dockerfile: requirements/mariadb/Dockerfile
  env_file: .env
  ports:
   - "3306:3306"
  container_name: mariadb
  restart: always
 wordpress:
  build:
   context: .
   dockerfile: requirements/wordpress/Dockerfile
  container_name: wordpress 
  depends_on:
   - mariadb
  env_file: .env
  ports:
   - "9000:9000"
  restart: always
